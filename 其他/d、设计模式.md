# 设计模式

**设计模式**是**软件设计**中**常见问题**的**典型解决方案**。 

它们就像能**根据需求**进行调整的**预制蓝图**， 可用于**解决**代码中反复出现的**设计问题**。



#### 设计模式和方法以及库的关系

`设计模式`与`方法或库`的使用方式不同， 你很难直接在自己的程序中套用某个设计模式。

> **模式并不是一段特定的代码**， 而是**解决特定问题的一般性概念**。 你可以**根据模式来实现**符合自己程序实际所需的**解决方案**。



#### 设计模式和算法的关系

人们常常会混淆模式和算法， 因为两者在概念上都是**已知特定问题的典型解决方案**。 

> 但算法**总是`明确定义`达成特定目标所需的`一系列步骤`**， **而模式则是对解决方案的`更高层次描述`**。 **同一模式在两个不同程序中的实现代码可能会不一样**。

算法更像是菜谱： **提供达成目标的明确步骤**。 

模式更像是蓝图： 你可以看到**最终的结果和模式的功能**， 但需要**自己确定实现步骤**。



### 模式包含的内容

大部分模式都有正规的**描述方式**， **以便在不同情况下使用**。 

模式的描述通常会包括以下部分：

- **意图**部分`简单描述问题和解决方案`。
- **动机**部分将`进一步解释问题`并`说明模式会如何提供解决方案`。
- **结构**部分`展示模式的每个部分和它们之间的关系`。
- **在不同语言中的实现**提供流行编程语言的`代码`， 让读者更好地理解模式背后的思想。

部分模式介绍中还列出其他的一些`实用细节`， 例如模式的适用性、 实现步骤以及与其他模式的关系。



## 为什么以及如何学习设计模式？

设计模式是针对软件设计中**常见问题的工具箱**， 其中的工具就是各种**经过实践验证的解决方案**。 即使你从未遇到过这些问题， 了解模式仍然非常有用， 因为它能指导你如何使用**面向对象的设计原则来解决各种问题**。

设计模式定义了一种让你和团队成员能够更高效沟通的通用语言。 











# 工厂方法模式

**工厂方法模式**是一种**创建型设计模式**， 其**在父类中提供一个创建对象的方法**， **允许子类决定实例化对象的类型**。

工厂方法模式建议使用特殊的**工厂**方法代替对于对象构造函数的直接调用 （即使用 `new`运算符）。 不用担心， 对象仍将通过 `new`运算符创建， 只是该运算符改在工厂方法中调用罢了。 工厂方法返回的对象通常被称作 “产品”。

![image-20210410142939644](https://cdn.jsdelivr.net/gh/zangguojun/PicGo/20210410142947.png)

乍看之下， 这种更改可能毫无意义： 我们只是改变了程序中调用构造函数的位置而已。 但是， 仔细想一下， 现在你可以在子类中重写工厂方法， 从而改变其创建产品的类型。

但有一点需要注意:仅当这些产品具有共同的基类或者接口时， 子类才能返回不同类型的产品， 同时基类中的工厂方法还应将其返回类型声明为这一共有接口。









# 抽象工厂模式

**抽象工厂模式**是一种**创建型设计模式**， 它能**创建一系列相关的对象**， 而**无需指定其具体类**。







